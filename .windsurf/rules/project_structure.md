---
trigger: always_on
description: Defines the project structure and organization rules
---

# Project Structure Rules

## Monorepo Structure

The project follows a monorepo structure with the following packages:

```
/
├── packages/
│   ├── api/         # Backend API using Hono
│   ├── web/         # Frontend using React
│   ├── core/        # Shared types and utilities
│   └── db/          # Database schema and operations
├── docs/            # Documentation
└── .windsurf/       # Workflows and rules
```

## File Naming Conventions

- **All files and directories** must use kebab-case (e.g., `user-service.ts`, `auth-middleware.ts`)
- **React components** must use kebab-case for filenames (e.g., `user-profile.tsx`, `login-form.tsx`)
- **Test files** must be co-located with the file they test and follow the pattern `[filename].test.ts` or `[filename].test.tsx`
- **Type definition files** should use the `.d.ts` extension when appropriate

## Directory Structure Rules

### API Package Structure

```
packages/api/
├── src/
│   ├── index.ts                 # Main entry point
│   ├── routes/                  # API route definitions
│   │   └── [domain]/            # Domain-specific routes
│   ├── middleware/              # Middleware components
│   ├── services/                # Business logic services
│   ├── utils/                   # Utility functions
│   └── types/                   # API-specific type definitions
└── tests/                       # Tests mirroring src structure
```

### Web Package Structure

```
packages/web/
├── src/
│   ├── main.tsx                 # Application entry point
│   ├── app.tsx                  # Root component
│   ├── components/              # Reusable components
│   │   ├── ui/                  # UI components (shadcn)
│   │   └── [domain]/            # Domain-specific components
│   ├── pages/                   # Page components
│   ├── routes/                  # React Router configuration
│   ├── hooks/                   # Custom React hooks
│   ├── utils/                   # Utility functions
│   ├── assets/                  # Static assets
│   ├── styles/                  # Tailwind and custom styles
│   └── types/                   # Web-specific type definitions
└── tests/                       # Tests mirroring src structure
```

### Core Package Structure

```
packages/core/
├── src/
│   ├── index.ts                 # Main entry point
│   ├── types/                   # Shared type definitions
│   └── utils/                   # Shared utility functions
└── tests/                       # Tests mirroring src structure
```

### DB Package Structure

```
packages/db/
├── src/
│   ├── index.ts                 # Main entry point
│   ├── schema/                  # Database schema definitions
│   ├── migrations/              # Database migrations
│   └── utils/                   # DB utility functions
└── tests/                       # Tests mirroring src structure
```

## Documentation Structure

```
docs/
├── product/                     # Business plan, product plan, epics, user stories
│   ├── business_plan.md
│   ├── product_plan.md
│   ├── epics.md
│   ├── epics/
│   │   └── [epic-name].md
│   ├── user-stories.md
│   └── user-stories/
│       └── [epic-name]/
│           └── [story-name].md
├── api/                         # API documentation (e.g., api_documentation.md or .yaml)
├── architecture/                # Architecture documentation
├── guides/                      # User guides
└── todos/                       # Auto-generated TODOs
```

## File Creation Guidelines

- **Adherence to Structure**: Always create or modify files within the defined project structure.
- **Placeholder Files**: Avoid creating placeholder files like `.gitkeep`. Directories will be created as needed when actual files are added.
- **Preferred File Types**: Prioritize text-based, version-controllable file formats. The primary extensions used are:
    - Code: `.ts`, `.tsx`, `.js`, `.jsx`
    - Configuration: `.json`, `.js`, `.ts` (e.g., `tailwind.config.js`)
    - Styles: `.css`
    - Markup & Docs: `.md`, `.html`
    - API Specs: `.yaml` (e.g., OpenAPI)
- **Static Assets (`packages/web/src/assets/`)**: This directory is intended for static assets. Common types include:
    - Images: `.svg`, `.png`, `.jpg`, `.jpeg`, `.webp`, `.gif`
    - Fonts: `.woff`, `.woff2`, `.ttf`, `.otf`
    - Other data: `.json` (for static data sets)
- **Binary Files**: Minimize the inclusion of binary files in the repository. If essential (e.g., specific pre-compiled assets not manageable otherwise), ensure they are small and documented. Large binary assets should typically be managed via Git LFS or a dedicated asset management system.
- **Generated Files**: Files generated by tools (e.g., migration files, build outputs in `dist`) are generally managed by those tools and often included in `.gitignore`. Consult specific tool documentation.
- **Purposeful Creation**: Before creating a new file type or placing a file outside established conventions, consider if it aligns with the project's goals of maintainability and AI-assisted development.